# Hệ thống Bạn bè - Hướng dẫn Người dùng

Chào mừng bạn đến với Hệ thống Bạn bè! Hướng dẫn này sẽ giúp bạn hiểu cách sử dụng tất cả các tính năng của hệ thống bạn bè trong game.

## Mục lục

1. [Bắt đầu](#bắt-đầu)
2. [Tạo Tài khoản](#tạo-tài-khoản)
3. [Tìm Bạn bè](#tìm-bạn-bè)
4. [Thêm Bạn bè](#thêm-bạn-bè)
5. [Quản lý Danh sách Bạn bè](#quản-lý-danh-sách-bạn-bè)
6. [Lời mời Kết bạn](#lời-mời-kết-bạn)
7. [Trạng thái Online](#trạng-thái-online)
8. [Chặn Người dùng](#chặn-người-dùng)
9. [Mẹo và Thực hành Tốt nhất](#mẹo-và-thực-hành-tốt-nhất)
10. [Xử lý Sự cố](#xử-lý-sự-cố)

---

## Bắt đầu

Hệ thống Bạn bè cho phép bạn kết nối với những người chơi khác, xem khi nào họ online, và xây dựng cộng đồng game của bạn. Bạn có thể tìm kiếm bạn bè theo username hoặc ID, gửi lời mời kết bạn, và quản lý danh sách bạn bè một cách dễ dàng.

### Tính năng Chính

- **Tìm kiếm Người chơi**: Tìm những người chơi khác theo username hoặc ID duy nhất
- **Lời mời Kết bạn**: Gửi và nhận lời mời kết bạn
- **Danh sách Bạn bè**: Xem tất cả bạn bè của bạn ở một nơi
- **Trạng thái Online**: Xem bạn bè nào đang online
- **Xem Profile**: Kiểm tra profile của bạn bè
- **Danh sách Chặn**: Chặn những người dùng không mong muốn

---

## Tạo Tài khoản

Khi bạn khởi động game lần đầu, bạn sẽ cần tạo một tài khoản trong game.

### Các Bước Tạo Tài khoản

1. **Khởi động game** và bạn sẽ thấy màn hình tạo tài khoản
2. **Nhập username** (phải là duy nhất)
3. **Chọn tên hiển thị** (đây là tên mà người chơi khác sẽ thấy)
4. **Chọn avatar** (tùy chọn)
5. **Nhấp "Tạo Tài khoản"**

### Thông tin Tài khoản

Tài khoản của bạn bao gồm:
- **Account ID**: Mã định danh duy nhất (tự động tạo)
- **Username**: Tên đăng nhập (không thể thay đổi)
- **Display Name**: Tên hiển thị (có thể thay đổi)
- **Avatar**: Ảnh đại diện (có thể thay đổi)
- **Level**: Level game hiện tại (cập nhật tự động)
- **Status**: Trạng thái tài khoản (active, offline, v.v.)

### Cập nhật Profile

Để cập nhật thông tin profile:

1. Mở **Main Menu**
2. Chọn **Profile**
3. Nhấp **Edit Profile**
4. Cập nhật **Display Name** hoặc **Avatar**
5. Nhấp **Save Changes**

---

## Tìm Bạn bè

Có hai cách để tìm những người chơi khác:

### Phương pháp 1: Tìm kiếm theo Username

1. Nhấp nút **"Add Friend"** (biểu tượng +) trên màn hình chính
2. Chọn **"Search by Username"**
3. Gõ username vào ô tìm kiếm (tối thiểu 2 ký tự)
4. Nhấn **Enter** hoặc nhấp **Search**
5. Duyệt qua kết quả tìm kiếm

**Ví dụ**: Tìm kiếm "player" sẽ hiển thị tất cả username chứa "player" như "player123", "coolplayer", v.v.

### Phương pháp 2: Tìm kiếm theo Account ID

1. Nhấp nút **"Add Friend"**
2. Chọn **"Search by ID"**
3. Nhập chính xác Account ID
4. Nhấp **Search**
5. Xem profile của người chơi

**Mẹo**: Bạn có thể tìm Account ID của mình trong profile và chia sẻ với bạn bè!

### Kết quả Tìm kiếm

Kết quả tìm kiếm hiển thị:
- Tên hiển thị của người chơi
- Username
- Avatar
- Level hiện tại
- Trạng thái Online/Offline
- Nút **"Add Friend"** (nếu chưa là bạn bè)
- Nút **"View Profile"**

---

## Thêm Bạn bè

### Gửi Lời mời Kết bạn

1. **Tìm người chơi** bằng cách tìm kiếm (xem [Tìm Bạn bè](#tìm-bạn-bè))
2. Nhấp vào profile của họ hoặc nút **"Add Friend"**
3. Xác nhận bạn muốn gửi lời mời
4. Chờ họ chấp nhận

**Lưu ý**: Bạn có thể gửi tối đa 10 lời mời kết bạn mỗi ngày.

### Điều gì Xảy ra Tiếp theo?

- Người chơi khác nhận được thông báo
- Họ có thể chấp nhận hoặc từ chối lời mời của bạn
- Nếu được chấp nhận, cả hai bạn trở thành bạn bè
- Nếu bị từ chối, bạn có thể thử lại sau

### Giới hạn Lời mời Kết bạn

- **Giới hạn Hàng ngày**: 10 lời mời kết bạn mỗi ngày
- **Lời mời Đang chờ**: Không giới hạn số lời mời đang chờ
- **Giới hạn Danh sách Bạn bè**: Kiểm tra giới hạn hiện tại trong màn hình danh sách bạn bè

---

## Quản lý Danh sách Bạn bè

### Xem Danh sách Bạn bè

1. Nhấp biểu tượng **"Friends"** trên màn hình chính
2. Danh sách bạn bè sẽ mở ra hiển thị tất cả bạn bè của bạn

### Thông tin Danh sách Bạn bè

Với mỗi bạn bè, bạn có thể thấy:
- **Display Name**
- **Avatar**
- **Level**
- **Online Status** (chấm xanh = online, chấm xám = offline)
- **Last Seen** (lần cuối họ online)

### Sắp xếp Danh sách Bạn bè

Nhấp nút **Sort** để sắp xếp theo:
- **Name** (A-Z)
- **Level** (cao nhất đến thấp nhất)
- **Online Status** (bạn bè online trước)
- **Recently Added** (bạn bè mới nhất trước)

### Tìm kiếm trong Danh sách Bạn bè

1. Mở danh sách bạn bè
2. Sử dụng **thanh tìm kiếm** ở trên cùng
3. Gõ bất kỳ phần nào của tên bạn bè
4. Danh sách lọc theo thời gian thực

### Xem Profile Bạn bè

1. Mở danh sách bạn bè
2. Nhấp vào bất kỳ bạn bè nào
3. Profile của họ mở ra hiển thị:
   - Thông tin profile đầy đủ
   - Trạng thái online hiện tại
   - Thời gian thấy lần cuối
   - Thống kê game
   - Tùy chọn xóa bạn bè hoặc xem thêm chi tiết

### Xóa Bạn bè

1. Mở danh sách bạn bè
2. Nhấp vào bạn bè bạn muốn xóa
3. Nhấp **"Remove Friend"**
4. Xác nhận hành động

**Cảnh báo**: Xóa bạn bè là vĩnh viễn. Bạn sẽ cần gửi lời mời kết bạn mới để kết nối lại.

---

## Lời mời Kết bạn

### Xem Lời mời Đang chờ

1. Nhấp biểu tượng **"Friend Requests"** (biểu tượng chuông có badge thông báo)
2. Xem tất cả lời mời đến đang chờ

Badge thông báo hiển thị số lượng lời mời đang chờ.

### Chấp nhận Lời mời Kết bạn

1. Mở **Friend Requests**
2. Xem lại chi tiết lời mời:
   - Tên người gửi
   - Avatar
   - Level
   - Khi nào lời mời được gửi
3. Nhấp **"Accept"**
4. Người chơi được thêm vào danh sách bạn bè

### Từ chối Lời mời Kết bạn

1. Mở **Friend Requests**
2. Tìm lời mời bạn muốn từ chối
3. Nhấp **"Decline"** hoặc **"Reject"**
4. Lời mời bị xóa

**Lưu ý**: Người gửi sẽ không được thông báo rằng bạn đã từ chối.

### Xem Lời mời Đã gửi

Để xem các lời mời bạn đã gửi:

1. Mở **Friend Requests**
2. Chuyển sang tab **"Sent"**
3. Xem tất cả lời mời đi đang chờ
4. Bạn có thể hủy lời mời đã gửi nếu cần

---

## Trạng thái Online

### Hiểu về Trạng thái Online

- **Chấm Xanh**: Bạn bè đang online
- **Chấm Xám**: Bạn bè đang offline
- **Last Seen**: Hiển thị lần cuối bạn bè offline online

### Trạng thái Online của Bạn

Trạng thái của bạn cập nhật tự động:
- **Online**: Khi bạn đang chơi game
- **Offline**: Khi bạn đóng game hoặc mất kết nối

### Kiểm tra Trạng thái Online của Bạn bè

1. Mở **Friend List**
2. Bạn bè online xuất hiện với chỉ báo xanh
3. Sắp xếp theo **Online Status** để thấy tất cả bạn bè online ở trên cùng

### Cập nhật Thời gian Thực

Danh sách bạn bè cập nhật tự động khi:
- Một bạn bè online
- Một bạn bè offline
- Bạn nhận được lời mời kết bạn mới

---

## Chặn Người dùng

### Tại sao Chặn ai đó?

Chặn những người dùng:
- Gửi lời mời kết bạn không mong muốn
- Hành vi không phù hợp
- Bạn không muốn tương tác

### Cách Chặn Người dùng

**Phương pháp 1: Từ Kết quả Tìm kiếm**
1. Tìm kiếm người dùng
2. Mở profile của họ
3. Nhấp **"Block User"**
4. Xác nhận hành động

**Phương pháp 2: Từ Danh sách Bạn bè**
1. Mở profile của bạn bè
2. Nhấp **"Block User"**
3. Xác nhận (điều này cũng xóa họ khỏi danh sách bạn bè)

### Điều gì Xảy ra Khi Bạn Chặn ai đó?

- Họ không thể gửi lời mời kết bạn cho bạn
- Họ không thể thấy trạng thái online của bạn
- Nếu họ là bạn bè, họ bị xóa khỏi danh sách
- Họ sẽ không được thông báo rằng bạn đã chặn

### Xem Danh sách Chặn

1. Mở **Settings**
2. Chọn **Privacy**
3. Nhấp **"Blocked Users"**
4. Xem tất cả tài khoản bị chặn

### Bỏ chặn Người dùng

1. Đi đến **Block List**
2. Tìm người dùng bạn muốn bỏ chặn
3. Nhấp **"Unblock"**
4. Xác nhận hành động

---

## Mẹo và Thực hành Tốt nhất

### Kết bạn

✅ **Nên**:
- Sử dụng username thân thiện, dễ nhận biết
- Giữ profile cập nhật
- Tôn trọng khi gửi lời mời
- Chấp nhận lời mời từ những người chơi bạn biết

❌ **Không nên**:
- Gửi spam lời mời kết bạn
- Sử dụng username hoặc avatar xúc phạm
- Chia sẻ Account ID công khai
- Chấp nhận lời mời từ người chơi không quen nếu bạn quan tâm đến quyền riêng tư

### Quản lý Danh sách Bạn bè

- **Dọn dẹp Định kỳ**: Xóa bạn bè không hoạt động định kỳ
- **Tổ chức**: Sử dụng tính năng sắp xếp để tìm bạn bè dễ dàng
- **Giữ Kết nối**: Kiểm tra trạng thái online để chơi với bạn bè
- **Quyền riêng tư**: Sử dụng tính năng chặn cho các tương tác không mong muốn

### Phép lịch sự Lời mời Kết bạn

- **Kiên nhẫn**: Không phải ai cũng chấp nhận lời mời ngay lập tức
- **Không Spam**: Tôn trọng giới hạn hàng ngày
- **Chơi Cùng nhau**: Gửi lời mời cho những người chơi bạn thích chơi cùng
- **Giao tiếp**: Nếu bạn gặp ai đó trong game, đề cập rằng bạn sẽ gửi lời mời

### Mẹo Quyền riêng tư

- **Kiểm soát Ai có thể Thêm Bạn**: Sử dụng cài đặt quyền riêng tư
- **Chặn Tự do**: Đừng ngần ngại chặn người dùng có vấn đề
- **Chia sẻ Cẩn thận**: Chỉ chia sẻ Account ID với những người chơi đáng tin cậy
- **Xem xét Lời mời**: Kiểm tra profile trước khi chấp nhận

---

## Xử lý Sự cố

### Các Vấn đề Thường gặp và Giải pháp

#### "Không thể Gửi Lời mời Kết bạn"

**Nguyên nhân Có thể**:
- Bạn đã đạt giới hạn hàng ngày (10 lời mời/ngày)
- Người dùng đã chặn bạn
- Bạn đã là bạn bè
- Đã có lời mời đang chờ

**Giải pháp**: Chờ 24 giờ để giới hạn reset, hoặc kiểm tra xem bạn đã là bạn bè chưa.

#### "Danh sách Bạn bè Không Load"

**Nguyên nhân Có thể**:
- Vấn đề kết nối mạng
- Bảo trì server
- Vấn đề cache

**Giải pháp**:
1. Kiểm tra kết nối internet
2. Đóng và mở lại danh sách bạn bè
3. Khởi động lại game
4. Kiểm tra trạng thái server

#### "Tìm kiếm Không có Kết quả"

**Nguyên nhân Có thể**:
- Username không tồn tại
- Lỗi chính tả trong truy vấn tìm kiếm
- Account ID không đúng

**Giải pháp**:
- Kiểm tra lại chính tả
- Thử tìm kiếm với ít ký tự hơn
- Xác minh Account ID đúng
- Hỏi người chơi xác nhận username

### Nhận Trợ giúp

Nếu bạn gặp vấn đề không được đề cập ở đây:

1. **Kiểm tra Trạng thái Server**: Tìm thông báo bảo trì
2. **Khởi động lại Game**: Nhiều vấn đề được giải quyết bằng cách khởi động lại
3. **Cập nhật Game**: Đảm bảo bạn có phiên bản mới nhất
4. **Liên hệ Hỗ trợ**: Sử dụng tính năng hỗ trợ trong game
5. **Diễn đàn Cộng đồng**: Kiểm tra xem người khác có vấn đề tương tự không

---

## Câu hỏi Thường gặp (FAQ)

### H: Tôi có thể có bao nhiêu bạn bè?

**Đ**: Giới hạn danh sách bạn bè được hiển thị trong màn hình danh sách bạn bè. Nó có thể thay đổi dựa trên level tài khoản hoặc phiên bản game.

### H: Tôi có thể thay đổi username không?

**Đ**: Không, username là vĩnh viễn. Bạn có thể thay đổi tên hiển thị trong cài đặt profile.

### H: Bạn bè có biết nếu tôi chặn họ không?

**Đ**: Không, người dùng bị chặn không được thông báo. Họ chỉ đơn giản là không thể gửi lời mời kết bạn cho bạn.

### H: Lời mời kết bạn tồn tại bao lâu?

**Đ**: Lời mời kết bạn không hết hạn. Chúng vẫn đang chờ cho đến khi được chấp nhận hoặc từ chối.

### H: Tôi có thể thấy ai đã từ chối lời mời kết bạn của mình không?

**Đ**: Không, bạn sẽ không nhận được thông báo nếu ai đó từ chối lời mời của bạn.

---

## Tham khảo Nhanh

### Các Hành động Chính

| Hành động | Cách thực hiện |
|-----------|----------------|
| Thêm Bạn bè | Nhấp biểu tượng + → Tìm kiếm → Add Friend |
| Xem Bạn bè | Nhấp biểu tượng Friends trên màn hình chính |
| Chấp nhận Lời mời | Friend Requests → Accept |
| Xóa Bạn bè | Friend List → Chọn Bạn bè → Remove |
| Chặn Người dùng | Profile → Block User |
| Tìm kiếm Người chơi | Add Friend → Search by Username/ID |
| Cập nhật Profile | Menu → Profile → Edit |

### Phím tắt (nếu có)

| Phím tắt | Hành động |
|----------|-----------|
| F | Mở Danh sách Bạn bè |
| R | Mở Lời mời Kết bạn |
| Ctrl+F | Tìm kiếm trong Danh sách Bạn bè |
| Esc | Đóng Cửa sổ Hiện tại |

---

## Kết luận

Hệ thống Bạn bè được thiết kế để giúp bạn xây dựng kết nối và nâng cao trải nghiệm gaming. Dù bạn đang chơi với bạn bè cũ hay kết bạn mới, những tính năng này giúp bạn dễ dàng giữ liên lạc.

**Hãy nhớ**:
- Tôn trọng những người chơi khác
- Sử dụng tính năng quyền riêng tư để bảo vệ bản thân
- Vui vẻ và tận hưởng việc chơi với bạn bè!

Để biết thêm thông tin, hãy xem:
- [Tài liệu API](Server/API_DOCUMENTATION.md) (dành cho developers)
- [Hướng dẫn Setup](Server/SETUP.md)
- Hệ thống Help trong game

---

**Phiên bản**: 1.0.0  
**Cập nhật lần cuối**: 28 tháng 10, 2025

Chơi game vui vẻ! 🎮
